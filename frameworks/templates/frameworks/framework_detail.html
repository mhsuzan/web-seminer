{% extends 'frameworks/base.html' %}

{% block title %}{{ framework.name }} - KG Quality Frameworks{% endblock %}

{% block content %}
<div class="card">
    <h2>{{ framework.name }}</h2>
    <div style="margin-top: 1rem;">
        <table style="width: 100%;">
            <tbody>
                {% if framework.authors %}
                <tr>
                    <td style="width: 150px; font-weight: bold; vertical-align: top;">Authors:</td>
                    <td>{{ framework.authors }}</td>
                </tr>
                {% endif %}
                {% if framework.year %}
                <tr>
                    <td style="font-weight: bold; vertical-align: top;">Year:</td>
                    <td>{{ framework.year }}</td>
                </tr>
                {% endif %}
                {% if framework.title %}
                <tr>
                    <td style="font-weight: bold; vertical-align: top;">Title:</td>
                    <td>{{ framework.title }}</td>
                </tr>
                {% endif %}
                {% if framework.description %}
                <tr>
                    <td style="font-weight: bold; vertical-align: top;">Abstract:</td>
                    <td>{{ framework.description }}</td>
                </tr>
                {% endif %}
                {% if framework.objectives %}
                <tr>
                    <td style="font-weight: bold; vertical-align: top;">Objectives:</td>
                    <td>{{ framework.objectives }}</td>
                </tr>
                {% endif %}
                {% if framework.methodology %}
                <tr>
                    <td style="font-weight: bold; vertical-align: top;">Methodology:</td>
                    <td>{{ framework.methodology }}</td>
                </tr>
                {% endif %}
                {% if framework.algorithm_used %}
                <tr>
                    <td style="font-weight: bold; vertical-align: top;">Algorithm Used:</td>
                    <td>{{ framework.algorithm_used }}</td>
                </tr>
                {% endif %}
                {% if framework.top_model %}
                <tr>
                    <td style="font-weight: bold; vertical-align: top;">Top Model:</td>
                    <td>{{ framework.top_model }}</td>
                </tr>
                {% endif %}
                {% if framework.accuracy %}
                <tr>
                    <td style="font-weight: bold; vertical-align: top;">Accuracy:</td>
                    <td>{{ framework.accuracy }}</td>
                </tr>
                {% endif %}
                {% if framework.advantages %}
                <tr>
                    <td style="font-weight: bold; vertical-align: top;">Advantages:</td>
                    <td>{{ framework.advantages }}</td>
                </tr>
                {% endif %}
                {% if framework.drawbacks %}
                <tr>
                    <td style="font-weight: bold; vertical-align: top;">Drawbacks:</td>
                    <td>{{ framework.drawbacks }}</td>
                </tr>
                {% endif %}
                {% if framework.source %}
                <tr>
                    <td style="font-weight: bold; vertical-align: top;">Source:</td>
                    <td>{{ framework.source }}</td>
                </tr>
                {% endif %}
            </tbody>
        </table>
    </div>
</div>

<div class="card">
    <h3>Criteria ({{ framework.criteria.count }})</h3>
    {% if framework.criteria.all %}
    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th>Category</th>
                <th>Description</th>
                <th>Definitions</th>
            </tr>
        </thead>
        <tbody>
            {% for criterion in framework.criteria.all %}
            <tr>
                <td><strong>{{ criterion.name }}</strong></td>
                <td>{{ criterion.category|default:"—" }}</td>
                <td>{{ criterion.description|truncatewords:20|default:"—" }}</td>
                <td>
                    {% if criterion.definitions.all %}
                        <ul style="margin: 0; padding-left: 1.5rem;">
                            {% for definition in criterion.definitions.all %}
                            <li style="margin-bottom: 0.5rem;">{{ definition.definition_text|truncatewords:15 }}</li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        —
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p>No criteria defined for this framework.</p>
    {% endif %}
</div>

<div style="margin-top: 1rem;">
    <a href="{% url 'frameworks:framework_list' %}" class="btn btn-secondary">Back to Frameworks</a>
    <a href="{% url 'frameworks:compare_frameworks' %}?frameworks={{ framework.id }}" class="btn">Compare with Others</a>
</div>
{% endblock %}
